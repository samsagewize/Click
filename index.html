<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Cursor Chaos Clicker</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
  body {
    margin: 0;
    height: 100vh;
    background: #000;
    overflow: hidden;
    cursor: none;
    font-family: Arial, Helvetica, sans-serif;
    touch-action: none;
    position: relative;
  }

  canvas#maze {
    position: absolute;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    opacity: 0.25;
    transition: opacity 0.6s;
  }

  .cursor {
    position: absolute;
    width: 38px;
    height: 38px;
    pointer-events: auto;
    background: url('https://cur.cursors-4u.net/cursors/cur-9/cur817.cur') no-repeat center center;
    background-size: contain;
    transform: translate(-50%, -50%);
    z-index: 9999;
    will-change: transform;
    transition: opacity 0.8s, transform 1.2s ease-out;
  }

  .cursor.falling {
    transform: translate(-50%, 200vh) rotate(720deg) !important;
    opacity: 0;
    pointer-events: none;
  }

  #instruction {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #0ff;
    font-size: clamp(2.5rem, 7vw, 5.5rem);
    text-shadow: 0 0 20px #0ff, 0 0 40px #f0f;
    pointer-events: none;
    user-select: none;
    text-align: center;
    line-height: 1.1;
    z-index: 10;
    transition: all 0.8s ease;
  }

  #instruction.small {
    font-size: 1.6rem;
    top: 20px;
    left: 20px;
    transform: none;
    opacity: 0.7;
  }

  .count {
    position: fixed;
    top: 20px;
    right: 140px;
    color: #fff;
    font-size: 2.2rem;
    font-weight: bold;
    text-shadow: 0 0 15px #f0f, 0 0 35px #0ff;
    z-index: 10000;
    pointer-events: none;
  }

  #maze-toggle {
    position: fixed;
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10001;
    padding: 10px 24px;
    background: rgba(0,255,255,0.25);
    border: 2px solid #0ff;
    color: #0ff;
    font-weight: bold;
    font-size: 1.1rem;
    cursor: pointer;
    border-radius: 8px;
    backdrop-filter: blur(6px);
    box-shadow: 0 0 15px rgba(0,255,255,0.5);
  }

  #maze-toggle:hover {
    background: rgba(0,255,255,0.45);
  }

  #screenshot-overlay, #milestone-popup {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.88);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10002;
    color: #fff;
    font-size: 4.5rem;
    font-weight: bold;
    text-align: center;
    text-shadow: 0 0 30px #f0f, 0 0 60px #0ff;
    padding: 30px;
  }

  #milestone-popup span {
    animation: pulse 1.8s infinite;
    display: block;
  }

  @keyframes pulse {
    0%,100% { transform: scale(1); }
    50%     { transform: scale(1.06); }
  }

  #milestone-popup .small-text {
    font-size: 2.2rem;
    margin-top: 20px;
    opacity: 0.9;
  }
</style>
</head>
<body>

<canvas id="maze"></canvas>

<div class="count" id="count">Cursors: 1</div>
<button id="maze-toggle">Maze: ON</button>

<div id="instruction">click everywhere...<br>embrace the chaos</div>

<!-- Screenshot overlay -->
<div id="screenshot-overlay">
  <span id="screenshot-text">CLICKED 0 TIMES</span>
</div>

<!-- 1000 clicks celebration popup -->
<div id="milestone-popup">
  <span>Congratulations!</span>
  <div class="small-text">You clicked 1000 times!<br>Go buy more ðŸ¤‘</div>
</div>

<audio id="ding" preload="auto">
  <source src="https://assets.codepen.io/605876/coin-ding.mp3" type="audio/mpeg">
</audio>

<script>
// â”€â”€ Variables â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let cursorCount = 1;
const countDisplay = document.getElementById('count');
const instruction = document.getElementById('instruction');
const cursors = [];
const mazeCanvas = document.getElementById('maze');
const ctx = mazeCanvas.getContext('2d');
let mazeVisible = true;
const screenshotOverlay = document.getElementById('screenshot-overlay');
const screenshotText = document.getElementById('screenshot-text');
const milestonePopup = document.getElementById('milestone-popup');
const dingSound = document.getElementById('ding');

// â”€â”€ Maze â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function resizeMaze() {
  mazeCanvas.width = window.innerWidth;
  mazeCanvas.height = window.innerHeight;
}

function drawMaze() {
  ctx.clearRect(0, 0, mazeCanvas.width, mazeCanvas.height);
  if (!mazeVisible) return;

  const w = mazeCanvas.width;
  const h = mazeCanvas.height;
  const cell = 40;
  ctx.strokeStyle = '#00ffff';
  ctx.lineWidth = 2;
  ctx.shadowBlur = 12;
  ctx.shadowColor = '#0ff';

  for (let x = 0; x < w; x += cell) {
    for (let y = 0; y < h; y += cell) {
      if (Math.random() > 0.35) {
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.lineTo(x + cell * (Math.random() > 0.5 ? 1 : -1), y + cell);
        ctx.stroke();
      }
      if (Math.random() > 0.4) {
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.lineTo(x + cell, y + cell * (Math.random() > 0.5 ? 1 : -1));
        ctx.stroke();
      }
    }
  }
}

window.addEventListener('resize', resizeMazeAndDraw);
function resizeMazeAndDraw() {
  resizeMaze();
  drawMaze();
}
resizeMazeAndDraw();

// Maze Toggle
document.getElementById('maze-toggle').addEventListener('click', () => {
  mazeVisible = !mazeVisible;
  document.getElementById('maze-toggle').textContent = `Maze: ${mazeVisible ? 'ON' : 'OFF'}`;
  mazeCanvas.style.opacity = mazeVisible ? '0.25' : '0';
});

// Cursor Movement
document.addEventListener('mousemove', (e) => {
  if (cursors.length > 0) {
    cursors[0].element.style.left = e.clientX + 'px';
    cursors[0].element.style.top  = e.clientY + 'px';
  }

  cursors.forEach((c, i) => {
    if (i === 0) return;
    const delay = 40 + i * 6;
    const wobble = Math.sin(Date.now() * 0.002 + i) * 14;

    setTimeout(() => {
      c.element.style.left = (e.clientX + c.offsetX + wobble) + 'px';
      c.element.style.top  = (e.clientY + c.offsetY + wobble) + 'px';
    }, delay);
  });
});

// Main Click Handler
document.addEventListener('click', (e) => {
  if (e.target.closest('#screenshot-overlay, #maze-toggle, #milestone-popup')) return;

  cursorCount++;
  countDisplay.textContent = `Cursors: ${cursorCount}`;

  if (cursorCount === 2) {
    instruction.classList.add('small');
    instruction.textContent = "keep clicking...";
  }

  // Every 10 clicks â†’ sound
  if (cursorCount % 10 === 0) {
    dingSound.currentTime = 0;
    dingSound.volume = 0.7;
    dingSound.play().catch(() => {});
  }

  // 1000 clicks â†’ BIG CELEBRATION POPUP
  if (cursorCount === 1000) {
    milestonePopup.style.display = 'flex';
    // Mega confetti
    confetti({
      particleCount: 200,
      spread: 120,
      startVelocity: 60,
      origin: { y: 0.6 }
    });
    setTimeout(() => {
      milestonePopup.style.display = 'none';
    }, 6000);
  }

  const newCursor = document.createElement('div');
  newCursor.className = 'cursor';
  const offsetX = (Math.random() - 0.5) * 100;
  const offsetY = (Math.random() - 0.5) * 100;
  newCursor.style.left = e.clientX + 'px';
  newCursor.style.top  = e.clientY + 'px';

  newCursor.addEventListener('click', (ev) => {
    ev.stopPropagation();
    showScreenshot();
    newCursor.classList.add('falling');
    setTimeout(() => newCursor.remove(), 1500);
    const index = cursors.findIndex(c => c.element === newCursor);
    if (index > -1) cursors.splice(index, 1);
  });

  document.body.appendChild(newCursor);
  cursors.push({ element: newCursor, offsetX, offsetY });

  // Regular confetti
  const colors = ['#ff0', '#f0f', '#0ff', '#ff69b4', '#00ff9d', '#fff200', '#ff3366'];
  confetti({
    particleCount: 80,
    spread: 100,
    startVelocity: 45,
    origin: { x: e.clientX / window.innerWidth, y: e.clientY / window.innerHeight },
    colors,
    ticks: 500
  });
  confetti({
    particleCount: 40,
    angle: 60,
    spread: 80,
    origin: { x: (e.clientX - 100) / window.innerWidth, y: e.clientY / window.innerHeight },
    colors
  });
  confetti({
    particleCount: 40,
    angle: 120,
    spread: 80,
    origin: { x: (e.clientX + 100) / window.innerWidth, y: e.clientY / window.innerHeight },
    colors
  });
});

// Screenshot
function showScreenshot() {
  screenshotText.textContent = `CLICKED ${cursorCount} TIMES!`;
  screenshotOverlay.style.display = 'flex';
  setTimeout(() => screenshotOverlay.style.display = 'none', 4000);
}

screenshotOverlay.addEventListener('click', () => {
  screenshotOverlay.style.display = 'none';
});

// Mobile
document.addEventListener('touchstart', (e) => {
  if (e.target.closest('#screenshot-overlay, #maze-toggle, #milestone-popup')) return;
  e.preventDefault();
  const touch = e.touches[0];
  const fakeEvent = { clientX: touch.clientX, clientY: touch.clientY };
  document.dispatchEvent(new MouseEvent('click', fakeEvent));
}, { passive: false });

</script>
</body>
</html>
