<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Cursor Chaos</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
  body {
    margin: 0;
    height: 100vh;
    background: #000;
    overflow: hidden;
    cursor: none;
    font-family: Arial, Helvetica, sans-serif;
    touch-action: none;
    position: relative;
  }

  canvas#maze {
    position: absolute;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.6s;
  }

  .cursor {
    position: absolute;
    width: 38px;
    height: 38px;
    pointer-events: none;
    background: url('https://cur.cursors-4u.net/cursors/cur-9/cur817.cur') no-repeat center center;
    background-size: contain;
    transform: translate(-50%, -50%);
    z-index: 9999;
    will-change: transform;
    transition: opacity 2s ease-out;
  }

  .cursor.fade-out {
    opacity: 0;
  }

  #instruction {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #0ff;
    font-size: clamp(2.5rem, 7vw, 5.5rem);
    text-shadow: 0 0 20px #0ff, 0 0 40px #f0f;
    pointer-events: none;
    user-select: none;
    text-align: center;
    line-height: 1.1;
    z-index: 10;
    transition: all 0.8s ease;
  }

  #instruction.small {
    font-size: 1.6rem;
    top: 20px;
    left: 20px;
    transform: none;
    opacity: 0.7;
  }

  .count {
    position: fixed;
    top: 20px;
    right: 320px;
    color: #fff;
    font-size: 2rem;
    font-weight: bold;
    text-shadow: 0 0 15px #f0f, 0 0 30px #0ff;
    z-index: 10000;
    pointer-events: none;
  }

  .top-controls {
    position: fixed;
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10001;
    display: flex;
    gap: 15px;
  }

  .control-btn {
    padding: 10px 20px;
    background: rgba(0,255,255,0.25);
    border: 2px solid #0ff;
    color: #0ff;
    font-weight: bold;
    font-size: 1.1rem;
    cursor: pointer;
    border-radius: 8px;
    backdrop-filter: blur(6px);
    transition: all 0.3s;
  }

  .control-btn:hover {
    background: rgba(0,255,255,0.45);
    box-shadow: 0 0 20px rgba(0,255,255,0.6);
  }

  #share-x {
    background: rgba(29,161,242,0.25);
    border-color: #1da1f2;
    color: #1da1f2;
  }

  #share-x:hover {
    background: rgba(29,161,242,0.45);
  }

  #share-score {
    background: rgba(255,215,0,0.25);
    border-color: #ffd700;
    color: #ffd700;
  }

  #share-score:hover {
    background: rgba(255,215,0,0.45);
  }
</style>
</head>
<body>

<canvas id="maze"></canvas>

<div class="count" id="count">Cursors: 1</div>

<div class="top-controls">
  <button id="maze-toggle" class="control-btn">Maze: OFF</button>
  <button id="share-x" class="control-btn">Share to X</button>
  <button id="share-score" class="control-btn">Share Score (PNG)</button>
</div>

<div id="instruction">click everywhere...<br>embrace the chaos</div>

<script>
// â”€â”€ Variables â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let cursorCount = 1;
const countDisplay = document.getElementById('count');
const instruction = document.getElementById('instruction');
const cursors = [];
const mazeCanvas = document.getElementById('maze');
const ctx = mazeCanvas.getContext('2d');
let mazeVisible = false;

// â”€â”€ Maze â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function resizeMaze() {
  mazeCanvas.width = window.innerWidth;
  mazeCanvas.height = window.innerHeight;
}

function drawMaze() {
  ctx.clearRect(0, 0, mazeCanvas.width, mazeCanvas.height);
  if (!mazeVisible) return;

  const w = mazeCanvas.width;
  const h = mazeCanvas.height;
  const cellSize = 40;
  ctx.strokeStyle = '#00ffff';
  ctx.lineWidth = 2;
  ctx.shadowBlur = 10;
  ctx.shadowColor = '#0ff';

  for (let x = 0; x < w; x += cellSize) {
    for (let y = 0; y < h; y += cellSize) {
      if (Math.random() > 0.4) {
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.lineTo(x + cellSize, y + cellSize * (Math.random() > 0.5 ? 1 : -1));
        ctx.stroke();
      }
      if (Math.random() > 0.5) {
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.lineTo(x + cellSize * (Math.random() > 0.5 ? 1 : -1), y + cellSize);
        ctx.stroke();
      }
    }
  }
}

window.addEventListener('resize', () => {
  resizeMaze();
  drawMaze();
});
resizeMaze();
drawMaze();

// â”€â”€ Maze Toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById('maze-toggle').addEventListener('click', () => {
  mazeVisible = !mazeVisible;
  document.getElementById('maze-toggle').textContent = `Maze: ${mazeVisible ? 'ON' : 'OFF'}`;
  mazeCanvas.style.opacity = mazeVisible ? '0.25' : '0';
});

// â”€â”€ Share to X â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById('share-x').addEventListener('click', () => {
  const text = `I survived ${cursorCount} clicks in Cursor Chaos! ðŸ–±ï¸ðŸ’¥ How many can you handle?`;
  const url = encodeURIComponent(window.location.href);
  const tweetUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${url}&hashtags=CursorChaos,ClickerGame`;
  
  window.open(tweetUrl, '_blank', 'width=550,height=450');
});

// â”€â”€ Share Score PNG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById('share-score').addEventListener('click', () => {
  const tempCanvas = document.createElement('canvas');
  tempCanvas.width = 600;
  tempCanvas.height = 400;
  const tctx = tempCanvas.getContext('2d');

  tctx.fillStyle = '#0a0015';
  tctx.fillRect(0, 0, tempCanvas.width, tempCanvas.height);

  const gradient = tctx.createLinearGradient(0, 0, tempCanvas.width, tempCanvas.height);
  gradient.addColorStop(0, 'rgba(0,255,255,0.15)');
  gradient.addColorStop(1, 'rgba(255,0,255,0.15)');
  tctx.fillStyle = gradient;
  tctx.fillRect(0, 0, tempCanvas.width, tempCanvas.height);

  tctx.font = 'bold 60px Arial';
  tctx.fillStyle = '#00ffff';
  tctx.textAlign = 'center';
  tctx.shadowColor = '#0ff';
  tctx.shadowBlur = 20;
  tctx.fillText('CURSOR CHAOS', tempCanvas.width/2, 120);

  tctx.font = 'bold 100px Arial';
  tctx.fillStyle = '#fff';
  tctx.shadowColor = '#f0f';
  tctx.shadowBlur = 30;
  tctx.fillText(cursorCount.toString(), tempCanvas.width/2, 240);

  tctx.font = 'bold 40px Arial';
  tctx.fillStyle = '#ffd700';
  tctx.shadowBlur = 15;
  tctx.fillText('CLICKS', tempCanvas.width/2, 320);

  const link = document.createElement('a');
  link.download = 'cursor-chaos-score.png';
  link.href = tempCanvas.toDataURL('image/png');
  link.click();
});

// â”€â”€ Cursor Logic â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.addEventListener('mousemove', (e) => {
  if (cursors.length > 0) {
    cursors[0].element.style.left = e.clientX + 'px';
    cursors[0].element.style.top  = e.clientY + 'px';
  }

  cursors.forEach((c, i) => {
    if (i === 0) return;
    const delay = 40 + i * 6;
    const wobble = Math.sin(Date.now() * 0.002 + i) * 14;

    setTimeout(() => {
      c.element.style.left = (e.clientX + c.offsetX + wobble) + 'px';
      c.element.style.top  = (e.clientY + c.offsetY + wobble) + 'px';
    }, delay);
  });
});

document.addEventListener('click', (e) => {
  if (e.target.tagName === 'BUTTON') return;

  cursorCount++;
  countDisplay.textContent = `Cursors: ${cursorCount}`;

  if (cursorCount === 2) {
    instruction.classList.add('small');
    instruction.textContent = "keep clicking...";
  }

  const newCursor = document.createElement('div');
  newCursor.className = 'cursor';
  const offsetX = (Math.random() - 0.5) * 100;
  const offsetY = (Math.random() - 0.5) * 100;
  newCursor.style.left = e.clientX + 'px';
  newCursor.style.top  = e.clientY + 'px';

  document.body.appendChild(newCursor);
  cursors.push({ element: newCursor, offsetX, offsetY });

  const colors = ['#ff0', '#f0f', '#0ff', '#ff69b4', '#00ff9d', '#fff200', '#ff3366'];
  confetti({
    particleCount: 80,
    spread: 100,
    startVelocity: 45,
    origin: { x: e.clientX / window.innerWidth, y: e.clientY / window.innerHeight },
    colors,
    ticks: 500
  });
  confetti({
    particleCount: 40,
    angle: 60,
    spread: 80,
    origin: { x: (e.clientX - 100) / window.innerWidth, y: e.clientY / window.innerHeight },
    colors
  });
  confetti({
    particleCount: 40,
    angle: 120,
    spread: 80,
    origin: { x: (e.clientX + 100) / window.innerWidth, y: e.clientY / window.innerHeight },
    colors
  });
});

// Mobile support
document.addEventListener('touchstart', (e) => {
  if (e.target.tagName === 'BUTTON') return;
  e.preventDefault();
  const touch = e.touches[0];
  const fakeEvent = { clientX: touch.clientX, clientY: touch.clientY };
  document.dispatchEvent(new MouseEvent('click', fakeEvent));
}, { passive: false });

  <div id="winamp" style="position:fixed;bottom:20px;right:20px;z-index:9998;width:275px;height:116px;"></div>
<script src="https://unpkg.com/webamp@1.4.2/built/webamp.bundle.min.js"></script>
<script>
new Webamp({}).renderWhenReady(document.getElementById('winamp'));
</script>
  

</body>
</html>
